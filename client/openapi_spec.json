{"openapi":"3.1.0","info":{"title":"Billing Admin API","description":"Billing Admin System API","version":"1.0.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"tags":["Root"],"summary":"Root","description":"Root endpoint with API information.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Authenticate user and return JWT tokens.\n\nArgs:\n    credentials: Username and password\n    request: Request object for IP logging\n    db: Database session\n    \nReturns:\n    Access token, refresh token, and user information\n    \nRaises:\n    HTTPException: If credentials are invalid","operationId":"login_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_dict_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/machine-login":{"post":{"tags":["Authentication"],"summary":"Machine Login","description":"Authenticate machine (client app) and return JWT tokens.\n\nThis endpoint is specifically for machine/client app authentication.\nMachines login with their username and password to access the API.\n\nArgs:\n    credentials: Machine username and password\n    request: Request object for IP logging\n    db: Database session\n    \nReturns:\n    Access token, refresh token, and machine information\n    \nRaises:\n    HTTPException: If credentials are invalid","operationId":"machine_login_v1_auth_machine_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_dict_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh an expired access token using a refresh token.\n\nArgs:\n    request: Refresh token\n    db: Database session\n    \nReturns:\n    New access token\n    \nRaises:\n    HTTPException: If refresh token is invalid","operationId":"refresh_token_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_TokenRefreshResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Logout current user.\n\nNote: With JWT tokens, logout is handled client-side by removing the token.\nThis endpoint is provided for consistency and can be extended to implement\ntoken blacklisting if needed.\n\nArgs:\n    current_user: Current authenticated user\n    \nReturns:\n    Success message","operationId":"logout_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","description":"Get current authenticated user information.\n\nArgs:\n    current_user: Current authenticated user\n    \nReturns:\n    User information","operationId":"get_current_user_info_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_UserResponse_"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/dashboard/stats":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Stats","description":"Get aggregated statistics for the main dashboard.\n\nQuery Parameters:\n    period: today | week | month | year (default: today)\n\nReturns:\n    Dashboard statistics including machine counts and payment totals","operationId":"get_dashboard_stats_v1_dashboard_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(today|week|month|year)$"},{"type":"null"}],"default":"today","title":"Period"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_dict_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/dashboard/revenue/weekly":{"get":{"tags":["Dashboard"],"summary":"Get Weekly Revenue","description":"Get revenue data for the past 7 days.\n\nReturns:\n    List of daily revenue with transaction counts","operationId":"get_weekly_revenue_v1_dashboard_revenue_weekly_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/dashboard/alerts":{"get":{"tags":["Dashboard"],"summary":"Get System Alerts","description":"Get system alerts and notifications.\n\nQuery Parameters:\n    limit: Number of alerts to return (default: 5, max: 50)\n    severity: Filter by severity (critical | warning | info)\n\nReturns:\n    List of system alerts based on machine status","operationId":"get_system_alerts_v1_dashboard_alerts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":5,"title":"Limit"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(critical|warning|info)$"},{"type":"null"}],"title":"Severity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/dashboard/machines":{"get":{"tags":["Dashboard"],"summary":"Get Machines Legacy","description":"Get all machines (legacy endpoint).\nUse GET /v1/machines instead.","operationId":"get_machines_legacy_v1_dashboard_machines_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/dashboard/payments/chart":{"get":{"tags":["Dashboard"],"summary":"Get Payments Chart Legacy","description":"Get payment data for charts (legacy endpoint).\nUse GET /v1/dashboard/revenue/weekly instead.","operationId":"get_payments_chart_legacy_v1_dashboard_payments_chart_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/machines/":{"post":{"tags":["Machines"],"summary":"Create Machine","description":"Create a new machine with auto-generated username.\n\nThe username is generated by combining the prefix with an auto-incremented number.\nFor example, if prefix is \"admin\", usernames will be: admin001, admin002, etc.\n\nArgs:\n    machine_data: Machine creation data\n    db: Database session\n    current_user: Current authenticated user\n    \nReturns:\n    Created machine details","operationId":"create_machine_v1_machines__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MachineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_MachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Machines"],"summary":"Get Machines","description":"Get list of all machines with pagination and filtering.\n\nQuery Parameters:\n    page: Page number (default: 1)\n    limit: Items per page (default: 20, max: 100)\n    status: Filter by status (online | offline | maintenance)\n    search: Search by name, location, or username\n    \nReturns:\n    Paginated list of machines","operationId":"get_machines_v1_machines__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(online|offline|maintenance)$"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name, location, or username","title":"Search"},"description":"Search by name, location, or username"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_dict_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}":{"get":{"tags":["Machines"],"summary":"Get Machine","description":"Get detailed information about a specific machine.\n\nArgs:\n    machine_id: Machine UUID\n    db: Database session\n    current_user: Current authenticated user\n    \nReturns:\n    Machine details","operationId":"get_machine_v1_machines__machine_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_MachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Machines"],"summary":"Update Machine","description":"Update machine details.\n\nAll fields are optional. Only provided fields will be updated.\nIf password is provided, it will be hashed before storing.\n\nArgs:\n    machine_id: Machine UUID\n    machine_data: Updated machine data\n    db: Database session\n    current_user: Current authenticated user\n    \nReturns:\n    Updated machine details","operationId":"update_machine_v1_machines__machine_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MachineUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_MachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Machines"],"summary":"Delete Machine","description":"Delete a machine.\n\nArgs:\n    machine_id: Machine UUID\n    db: Database session\n    current_user: Current authenticated user\n    \nReturns:\n    Success message","operationId":"delete_machine_v1_machines__machine_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/status":{"patch":{"tags":["Machines"],"summary":"Update Machine Status","description":"Update machine status, last_sync, and collection amounts.\n\nThis endpoint is used by client apps to update their status\nand sync information without requiring all machine fields.\n\nArgs:\n    machine_id: Machine UUID\n    status_data: Status update data\n    db: Database session\n    current_user: Current authenticated user (or machine)\n    \nReturns:\n    Updated machine details","operationId":"update_machine_status_v1_machines__machine_id__status_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MachineStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_MachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/services":{"get":{"tags":["Services"],"summary":"Get Services By Machine","description":"Get all services for a specific machine.\n\nQuery Parameters:\n    status: Filter by status (active | inactive)","operationId":"get_services_by_machine_v1_machines__machine_id__services_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(active|inactive)$"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_ServiceResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Services"],"summary":"Create Service","description":"Create a new service for a machine.","operationId":"create_service_v1_machines__machine_id__services_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_ServiceResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/services/active":{"get":{"tags":["Services"],"summary":"Get Active Services","description":"Get only active services for a specific machine.\n\nThis is a convenience endpoint for client apps to quickly\nfetch only the services they need to display.\n\nArgs:\n    machine_id: Machine UUID\n    db: Database session\n    current_user: Current authenticated user/machine\n    \nReturns:\n    List of active services","operationId":"get_active_services_v1_machines__machine_id__services_active_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_ServiceResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/services/{service_id}":{"get":{"tags":["Services"],"summary":"Get Service","description":"Get details of a specific service.","operationId":"get_service_v1_services__service_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"string","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_ServiceWithMachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Services"],"summary":"Update Service","description":"Update service details.","operationId":"update_service_v1_services__service_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"string","title":"Service Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_ServiceResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Services"],"summary":"Delete Service","description":"Delete a service.","operationId":"delete_service_v1_services__service_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"string","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/catalog-history":{"get":{"tags":["Catalog History"],"summary":"Get Catalog History By Machine","description":"Get catalog history for a specific machine.","operationId":"get_catalog_history_by_machine_v1_machines__machine_id__catalog_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_CatalogHistoryResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/catalog-history":{"get":{"tags":["Catalog History"],"summary":"Get All Catalog History","description":"Get all catalog history with optional filters.","operationId":"get_all_catalog_history_v1_catalog_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date (ISO 8601)","title":"Start Date"},"description":"Start date (ISO 8601)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date (ISO 8601)","title":"End Date"},"description":"End date (ISO 8601)"},{"name":"machine_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by machine ID","title":"Machine Id"},"description":"Filter by machine ID"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_CatalogHistoryResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/payments":{"get":{"tags":["Payments"],"summary":"Get Payments By Machine","description":"Get all payments for a specific machine with filters.","operationId":"get_payments_by_machine_v1_machines__machine_id__payments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}},{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(day|week|month|year)$"},{"type":"null"}],"title":"Period"}},{"name":"method","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(UPI|Card|Cash)$"},{"type":"null"}],"title":"Method"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(success|pending|failed)$"},{"type":"null"}],"title":"Status"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payments":{"get":{"tags":["Payments"],"summary":"Get All Payments","description":"Get all payments with filters.","operationId":"get_all_payments_v1_payments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(day|week|month|year)$"},{"type":"null"}],"title":"Period"}},{"name":"method","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(UPI|Card|Cash)$"},{"type":"null"}],"title":"Method"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(success|pending|failed)$"},{"type":"null"}],"title":"Status"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"machine_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Machine Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Payments"],"summary":"Create Payment","description":"Create a new payment (manual entry).","operationId":"create_payment_v1_payments_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_PaymentResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payments/{payment_id}":{"get":{"tags":["Payments"],"summary":"Get Payment","description":"Get details of a specific payment.","operationId":"get_payment_v1_payments__payment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_PaymentWithMachineResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Payments"],"summary":"Update Payment","description":"Update payment details.","operationId":"update_payment_v1_payments__payment_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_PaymentResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Payments"],"summary":"Delete Payment","description":"Delete a payment.","operationId":"delete_payment_v1_payments__payment_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/machines/{machine_id}/logs":{"get":{"tags":["Logs"],"summary":"Get Machine Logs","operationId":"get_machine_logs_v1_machines__machine_id__logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_LogListResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Logs"],"summary":"Create Machine Log","operationId":"create_machine_log_v1_machines__machine_id__logs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_LogResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/logs/recent":{"get":{"tags":["Logs"],"summary":"Get Recent Logs","operationId":"get_recent_logs_v1_logs_recent_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_List_LogResponse__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/analytics/revenue":{"get":{"tags":["Analytics"],"summary":"Get Revenue Analytics","description":"Get detailed revenue analytics.","operationId":"get_revenue_analytics_v1_analytics_revenue_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"enum":["day","week","month","year"],"type":"string"},{"type":"null"}],"default":"month","title":"Period"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"machine_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Machine Id"}},{"name":"group_by","in":"query","required":false,"schema":{"anyOf":[{"enum":["day","week","month"],"type":"string"},{"type":"null"}],"default":"day","title":"Group By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_RevenueAnalyticsResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/analytics/machines/performance":{"get":{"tags":["Analytics"],"summary":"Get Machine Performance","description":"Get performance metrics for all machines.","operationId":"get_machine_performance_v1_analytics_machines_performance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"enum":["day","week","month"],"type":"string"},{"type":"null"}],"default":"month","title":"Period"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"enum":["revenue","transactions","uptime"],"type":"string"},{"type":"null"}],"default":"revenue","title":"Sort By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_list_MachinePerformance__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/analytics/export/{export_type}":{"get":{"tags":["Analytics"],"summary":"Export Data","description":"Export data in various formats.","operationId":"export_data_v1_analytics_export__export_type__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"export_type","in":"path","required":true,"schema":{"enum":["payments","machines","services","logs"],"type":"string","title":"Export Type"}},{"name":"format","in":"query","required":false,"schema":{"enum":["csv","excel","json"],"type":"string","default":"csv","title":"Format"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"machine_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/sync/push":{"post":{"tags":["Sync"],"summary":"Sync Push","description":"Push offline data from client app to server.\n\nThis endpoint allows client apps to upload payments that were\ncreated while offline.\n\nArgs:\n    sync_data: Offline data to sync\n    db: Database session\n    current_user: Current authenticated user/machine\n    \nReturns:\n    Sync statistics","operationId":"sync_push_v1_sync_push_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncPushRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_SyncPushResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v1/sync/pull":{"post":{"tags":["Sync"],"summary":"Sync Pull","description":"Pull latest data from server to client app.\n\nThis endpoint allows client apps to download the latest\nservices and configuration.\n\nArgs:\n    machine_id: Machine UUID\n    db: Database session\n    current_user: Current authenticated user/machine\n    \nReturns:\n    Latest services and machine status","operationId":"sync_pull_v1_sync_pull_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"query","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_SyncPullResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/sync/status/{machine_id}":{"get":{"tags":["Sync"],"summary":"Sync Status","description":"Get sync status for a machine.\n\nArgs:\n    machine_id: Machine UUID\n    db: Database session\n    current_user: Current authenticated user/machine\n    \nReturns:\n    Sync status information","operationId":"sync_status_v1_sync_status__machine_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"machine_id","in":"path","required":true,"schema":{"type":"string","title":"Machine Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_SyncStatusResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CatalogHistoryResponse":{"properties":{"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"machine_name":{"type":"string","title":"Machine Name"},"service_name":{"type":"string","title":"Service Name"},"action":{"type":"string","title":"Action"},"old_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Old Price"},"new_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"New Price"},"changed_at":{"type":"string","format":"date-time","title":"Changed At"}},"type":"object","required":["id","machine_id","machine_name","service_name","action","changed_at"],"title":"CatalogHistoryResponse","description":"Schema for catalog history response."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LogCreate":{"properties":{"action":{"type":"string","maxLength":255,"minLength":1,"title":"Action"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"type":{"type":"string","pattern":"^(login|client|config|manager|system)$","title":"Type"}},"type":"object","required":["action","type"],"title":"LogCreate"},"LogListResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/LogResponse"},"type":"array","title":"Logs"},"pagination":{"additionalProperties":true,"type":"object","title":"Pagination"}},"type":"object","required":["logs","pagination"],"title":"LogListResponse"},"LogResponse":{"properties":{"action":{"type":"string","maxLength":255,"minLength":1,"title":"Action"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"type":{"type":"string","pattern":"^(login|client|config|manager|system)$","title":"Type"},"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"machine_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Machine Name"}},"type":"object","required":["action","type","id","machine_id","created_at"],"title":"LogResponse"},"LoginRequest":{"properties":{"username":{"type":"string","minLength":3,"title":"Username"},"password":{"type":"string","minLength":1,"title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest","description":"Schema for login request."},"MachineCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Machine display name"},"location":{"type":"string","maxLength":255,"minLength":1,"title":"Location","description":"Physical location"},"username_prefix":{"type":"string","maxLength":50,"minLength":1,"title":"Username Prefix","description":"Username prefix for auto-generation","default":"admin"},"password":{"type":"string","minLength":4,"title":"Password","description":"Machine login password"}},"type":"object","required":["name","location","password"],"title":"MachineCreate","description":"Schema for creating a new machine."},"MachinePerformance":{"properties":{"machine_id":{"type":"string","title":"Machine Id"},"machine_name":{"type":"string","title":"Machine Name"},"status":{"type":"string","title":"Status"},"revenue":{"type":"number","title":"Revenue"},"transaction_count":{"type":"integer","title":"Transaction Count"},"uptime_percentage":{"type":"number","title":"Uptime Percentage"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"},"average_transaction":{"type":"number","title":"Average Transaction"}},"type":"object","required":["machine_id","machine_name","status","revenue","transaction_count","uptime_percentage","last_sync","average_transaction"],"title":"MachinePerformance","description":"Schema for machine performance metrics."},"MachineResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"location":{"type":"string","title":"Location"},"username":{"type":"string","title":"Username"},"status":{"type":"string","title":"Status"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"},"online_collection":{"type":"number","title":"Online Collection"},"offline_collection":{"type":"number","title":"Offline Collection"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","location","username","status","last_sync","online_collection","offline_collection","created_at","updated_at"],"title":"MachineResponse","description":"Schema for machine response."},"MachineStatusUpdate":{"properties":{"status":{"anyOf":[{"type":"string","pattern":"^(online|offline|maintenance)$"},{"type":"null"}],"title":"Status"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"},"online_collection":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Online Collection"},"offline_collection":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Offline Collection"}},"type":"object","title":"MachineStatusUpdate","description":"Schema for updating machine status and sync time."},"MachineUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"location":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Location"},"username":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Username"},"password":{"anyOf":[{"type":"string","minLength":4},{"type":"null"}],"title":"Password","description":"Leave empty to keep current password"},"status":{"anyOf":[{"type":"string","pattern":"^(online|offline|maintenance)$"},{"type":"null"}],"title":"Status"}},"type":"object","title":"MachineUpdate","description":"Schema for updating an existing machine."},"MessageResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Simple message response."},"PaymentCreate":{"properties":{"machine_id":{"type":"string","title":"Machine Id","description":"Machine UUID"},"bill_number":{"type":"string","maxLength":100,"minLength":1,"title":"Bill Number","description":"Bill/transaction number"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount","description":"Payment amount"},"method":{"type":"string","pattern":"^(UPI|Card|Cash)$","title":"Method","description":"Payment method"},"status":{"type":"string","pattern":"^(success|pending|failed)$","title":"Status","description":"Payment status","default":"success"}},"type":"object","required":["machine_id","bill_number","amount","method"],"title":"PaymentCreate","description":"Schema for creating a new payment (manual entry)."},"PaymentResponse":{"properties":{"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"bill_number":{"type":"string","title":"Bill Number"},"amount":{"type":"number","title":"Amount"},"method":{"type":"string","title":"Method"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","machine_id","bill_number","amount","method","status","created_at"],"title":"PaymentResponse","description":"Schema for payment response."},"PaymentSync":{"properties":{"machine_id":{"type":"string","title":"Machine Id"},"bill_number":{"type":"string","title":"Bill Number"},"amount":{"type":"number","title":"Amount"},"method":{"type":"string","pattern":"^(UPI|Card|Cash)$","title":"Method"},"status":{"type":"string","pattern":"^(success|pending|failed)$","title":"Status","default":"success"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["machine_id","bill_number","amount","method"],"title":"PaymentSync","description":"Schema for payment data during sync."},"PaymentUpdate":{"properties":{"bill_number":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Bill Number"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Amount"},"method":{"anyOf":[{"type":"string","pattern":"^(UPI|Card|Cash)$"},{"type":"null"}],"title":"Method"},"status":{"anyOf":[{"type":"string","pattern":"^(success|pending|failed)$"},{"type":"null"}],"title":"Status"}},"type":"object","title":"PaymentUpdate","description":"Schema for updating an existing payment."},"PaymentWithMachineResponse":{"properties":{"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"machine_name":{"type":"string","title":"Machine Name"},"bill_number":{"type":"string","title":"Bill Number"},"amount":{"type":"number","title":"Amount"},"method":{"type":"string","title":"Method"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","machine_id","machine_name","bill_number","amount","method","status","created_at"],"title":"PaymentWithMachineResponse","description":"Schema for payment response with machine details."},"RevenueAnalyticsResponse":{"properties":{"total_revenue":{"type":"number","title":"Total Revenue"},"total_transactions":{"type":"integer","title":"Total Transactions"},"average_transaction":{"type":"number","title":"Average Transaction"},"revenue_by_period":{"items":{"$ref":"#/components/schemas/RevenuePeriod"},"type":"array","title":"Revenue By Period"},"revenue_by_method":{"additionalProperties":{"type":"number"},"type":"object","title":"Revenue By Method"},"top_machines":{"items":{"$ref":"#/components/schemas/TopMachine"},"type":"array","title":"Top Machines"}},"type":"object","required":["total_revenue","total_transactions","average_transaction","revenue_by_period","revenue_by_method","top_machines"],"title":"RevenueAnalyticsResponse","description":"Schema for revenue analytics response."},"RevenuePeriod":{"properties":{"period":{"type":"string","title":"Period"},"revenue":{"type":"number","title":"Revenue"},"transaction_count":{"type":"integer","title":"Transaction Count"}},"type":"object","required":["period","revenue","transaction_count"],"title":"RevenuePeriod","description":"Schema for revenue by period."},"ServiceCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Service name"},"price":{"type":"number","exclusiveMinimum":0.0,"title":"Price","description":"Service price"},"status":{"type":"string","pattern":"^(active|inactive)$","title":"Status","description":"Service status","default":"active"}},"type":"object","required":["name","price"],"title":"ServiceCreate","description":"Schema for creating a new service."},"ServiceResponse":{"properties":{"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","machine_id","name","price","status","created_at","updated_at"],"title":"ServiceResponse","description":"Schema for service response."},"ServiceUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Price"},"status":{"anyOf":[{"type":"string","pattern":"^(active|inactive)$"},{"type":"null"}],"title":"Status"}},"type":"object","title":"ServiceUpdate","description":"Schema for updating an existing service."},"ServiceWithMachineResponse":{"properties":{"id":{"type":"string","title":"Id"},"machine_id":{"type":"string","title":"Machine Id"},"machine_name":{"type":"string","title":"Machine Name"},"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","machine_id","machine_name","name","price","status","created_at","updated_at"],"title":"ServiceWithMachineResponse","description":"Schema for service response with machine details."},"SuccessResponse_List_LogResponse__":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/LogResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[List[LogResponse]]"},"SuccessResponse_LogListResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/LogListResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[LogListResponse]"},"SuccessResponse_LogResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/LogResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[LogResponse]"},"SuccessResponse_MachineResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/MachineResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[MachineResponse]"},"SuccessResponse_PaymentResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/PaymentResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[PaymentResponse]"},"SuccessResponse_PaymentWithMachineResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/PaymentWithMachineResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[PaymentWithMachineResponse]"},"SuccessResponse_RevenueAnalyticsResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/RevenueAnalyticsResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[RevenueAnalyticsResponse]"},"SuccessResponse_ServiceResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/ServiceResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[ServiceResponse]"},"SuccessResponse_ServiceWithMachineResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/ServiceWithMachineResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[ServiceWithMachineResponse]"},"SuccessResponse_SyncPullResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/SyncPullResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[SyncPullResponse]"},"SuccessResponse_SyncPushResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/SyncPushResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[SyncPushResponse]"},"SuccessResponse_SyncStatusResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/SyncStatusResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[SyncStatusResponse]"},"SuccessResponse_TokenRefreshResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/TokenRefreshResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[TokenRefreshResponse]"},"SuccessResponse_UserResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/UserResponse"}},"type":"object","required":["data"],"title":"SuccessResponse[UserResponse]"},"SuccessResponse_dict_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[dict]"},"SuccessResponse_list_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[list]"},"SuccessResponse_list_CatalogHistoryResponse__":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/CatalogHistoryResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[list[CatalogHistoryResponse]]"},"SuccessResponse_list_MachinePerformance__":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/MachinePerformance"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[list[MachinePerformance]]"},"SuccessResponse_list_ServiceResponse__":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/ServiceResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"SuccessResponse[list[ServiceResponse]]"},"SyncPullResponse":{"properties":{"services":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Services"},"machine_status":{"type":"string","title":"Machine Status"},"sync_timestamp":{"type":"string","format":"date-time","title":"Sync Timestamp"}},"type":"object","required":["services","machine_status","sync_timestamp"],"title":"SyncPullResponse","description":"Schema for sync pull response."},"SyncPushRequest":{"properties":{"machine_id":{"type":"string","title":"Machine Id"},"payments":{"items":{"$ref":"#/components/schemas/PaymentSync"},"type":"array","title":"Payments","default":[]},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"}},"type":"object","required":["machine_id"],"title":"SyncPushRequest","description":"Schema for pushing offline data to server."},"SyncPushResponse":{"properties":{"synced_payments":{"type":"integer","title":"Synced Payments"},"failed_payments":{"type":"integer","title":"Failed Payments"},"sync_timestamp":{"type":"string","format":"date-time","title":"Sync Timestamp"}},"type":"object","required":["synced_payments","failed_payments","sync_timestamp"],"title":"SyncPushResponse","description":"Schema for sync push response."},"SyncStatusResponse":{"properties":{"machine_id":{"type":"string","title":"Machine Id"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"},"status":{"type":"string","title":"Status"},"pending_uploads":{"type":"integer","title":"Pending Uploads","default":0}},"type":"object","required":["machine_id","last_sync","status"],"title":"SyncStatusResponse","description":"Schema for sync status response."},"TokenRefreshRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"TokenRefreshRequest","description":"Schema for token refresh request."},"TokenRefreshResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["access_token","expires_in"],"title":"TokenRefreshResponse","description":"Schema for token refresh response."},"TopMachine":{"properties":{"machine_id":{"type":"string","title":"Machine Id"},"machine_name":{"type":"string","title":"Machine Name"},"revenue":{"type":"number","title":"Revenue"},"transaction_count":{"type":"integer","title":"Transaction Count"}},"type":"object","required":["machine_id","machine_name","revenue","transaction_count"],"title":"TopMachine","description":"Schema for top performing machine."},"UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","username","email","role","created_at"],"title":"UserResponse","description":"Schema for user response (without sensitive data)."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}